# 首先,需要上一届的更新提到info记录添加的前面,意思是先更新库存.!


# js跳转
1. 将一些代码放到place-XX.html
2. 突然间就想起来分页器了,挺好用的.
3. 还有就是利用前后台配合,做一些小统计.!
4. 然后还想起来,配合分页器的话,记得在url配置方面,记得设置默认的参数,例如说是起始页1

# 修改用户订单中心
1. 就是上面说的分页器.
2. 现在说的是查询订单商品信息,也就是df_order_goods的信息,就是已经成功提交了订单之后,添加到的商品以及他的数量.
3. 然后也是给上面查询到的skuxxx,动态添加属性,以便到模板的时候论询遍历显示.!
4. 然后组织上下文,准备传递到模板了.!
5. 然后就是处理模板的模板变量显示.重复性的工作,没有什么好标记的.
6. 然后,就是后去支付状态,两种,一个是已经支付,一种是没有支付.!
    1. 代码
        ```python
        #获取字典
            order.status_name = OrderInfo.ORDER_STATUS[order_status]
        ```

# 订单支付(支付宝)
1. 详细的可以阅读:
    https://open.alipay.com/platform/home/html
2. 关于沙箱环境(开发模拟环境)
3. 然后设置到公钥和私钥的知识点(还好我都比较理解了.!)
4. 还有一些API的说明!>
5. 公共请求参数
    1. 有什么作用.
        1. app_id
        2. method
        3. ......
6. 首先安装python的一些插件.
    1. pip install python-alipay-sdk --upgrade
    2. 生成密钥文件
        ```python
            openssl
            OpenSSL> genrsa -out app_private_key.pem   2048  # 私钥
            OpenSSL> rsa -in app_private_key.pem -pubout -out app_public_key.pem # 导出公钥
            OpenSSL> exit
        ```


# 支付流程图
1. 请一样,参考有道云8月11日的笔记,里面有截图.!

# 支付代码
1. 安装一些基本的生成环境.
2. 生成私钥,公钥信息等等.
3. 然后自己的一些逻辑整理.!
    1. 接收参数
    2. 校验参数
    3. 页面处理
4. 信息整理,准备调用支付宝的api.
5. 初始化
6. 调用支付接口.
7. 返回应答
8. 还有修改一下前段的模板.!
9. 调用的是沙箱环境.恩恩.模拟的.!

# 关于支付宝流程说明
1. 如果支付成功以后,支付宝会转发一下信息到你的网站,告知支付成功
    1. 但是,你的网站必须有一个公网ip地址
    2. 如果没有,我们就需要手动去调用转付宝接口,去查看支付结果.!
    3. ## 部分测试截图,请参考8月13日的有道云笔记查看.!
    4. 得继续修改一下js代码>!'



# 最后就是评论了!
1. 好像修改一下js代码就可以了.!